{% load i18n %}

{% get_current_language as LANGUAGE_CODE %}
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
	<a class="navbar-brand" href="{% url 'contacts_list' %}">âœ† {% trans "Phonebook" %}</a>
  <div class="navbar-collapse" id="navbarNav">
    <ul class="navbar-nav">
			{% if user.is_authenticated %}
      <li class="nav-item active">
				<a class="nav-link" href="{% url 'contact_create' %}">{% trans "Add Contact" %}</a>
      </li>
			{% endif %}
    </ul>
  </div>
	<div class="mr-3">
    <form action="{% url 'change_language' %}" method="post">
      {% csrf_token %}
      <select class="custom-select" name="language" onchange="this.form.submit()"> 
        {% get_available_languages as LANGUAGES %}
        {% for language in LANGUAGES %}       
        <option value="{{ language.0 }}" {% if LANGUAGE_CODE == language.0 %} selected{% endif %} >
          {{ language.0|language_name_local }} ({{ language.0 }})
        </option>
        {% endfor %}
      </select>
    </form>
	</div>
	{% if user.is_authenticated %}
	<a class=" d-lg-inline-block my-2 my-md-0 ms-md-3 btn btn-outline-light" href="{% url 'logout' %}">{% trans "Logout" %}</a>
	{% else %}
	<a class=" d-lg-inline-block my-2 my-md-0 ms-md-3 btn btn-outline-light" href="{% url 'login' %}">{% trans "Login" %}</a>
	{% endif %}
</nav>
